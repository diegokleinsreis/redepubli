/* ==========================================================
   ESTILOS PARA O MODO ESCURO (DARK MODE) - v6.0 (Login/Cadastro/Lightbox)
   ========================================================== */

/* CORREÇÃO: Todas as regras agora são prefixadas com 'html.dark-mode' 
   para corresponder ao script que aplica a classe na tag <html>.
*/

html.dark-mode {
    --cor-fundo-principal: #18191A;
    --cor-fundo-secundario: #242526;
    --cor-fundo-hover: #3A3B3C;
    --cor-borda: #393A3B;
    --cor-texto-primario: #E4E6EB;
    --cor-texto-secundario: #B0B3B8;
    --cor-link-principal: #0c2d54; 
}

/* --- ESTILOS GERAIS --- */
html.dark-mode body {
    background-color: var(--cor-fundo-principal);
    color: var(--cor-texto-primario);
}

html.dark-mode .primary-btn,
html.dark-mode .primary-btn-small {
    background-color: var(--cor-link-principal);
}

html.dark-mode .secondary-btn {
    background-color: #42b72a;
}

/* --- LAYOUT --- */
html.dark-mode .site-header {
    background-color: var(--cor-fundo-secundario);
    border-bottom-color: var(--cor-borda);
}

html.dark-mode .header-title,
html.dark-mode .logo {
    color: var(--cor-texto-primario);
}

html.dark-mode .desktop-nav .logout-btn {
    background-color: var(--cor-fundo-hover);
    color: var(--cor-texto-primario);
}

html.dark-mode .mobile-nav-panel {
    background-color: var(--cor-fundo-secundario);
}

html.dark-mode .close-btn {
    color: var(--cor-texto-secundario);
}

html.dark-mode .mobile-menu-toggle {
    color: var(--cor-texto-primario); 
}


/* --- SIDEBAR --- */
html.dark-mode .sidebar-nav li a {
    color: var(--cor-texto-primario);
}
html.dark-mode .sidebar-nav li a:hover {
    background-color: var(--cor-fundo-hover);
}
html.dark-mode .sidebar-nav hr {
    border-top-color: var(--cor-borda);
}
html.dark-mode .sidebar-nav .nav-icon {
    color: var(--cor-texto-primario); 
}

/* --- CONTEÚDO (POSTS, CARDS, ETC) --- */
html.dark-mode .post-card, 
html.dark-mode .create-post-card,
html.dark-mode .profile-page-header, 
html.dark-mode .profile-nav, 
html.dark-mode .profile-details-card, 
html.dark-mode .page-section-header,
html.dark-mode .settings-card,
html.dark-mode .friend-card {
    background-color: var(--cor-fundo-secundario);
    border: 1px solid var(--cor-borda);
    box-shadow: none; 
}

html.dark-mode .post-author-name {
    color: var(--cor-texto-primario);
}
html.dark-mode .post-timestamp,
html.dark-mode .post-stats,
html.dark-mode .action-btn,
html.dark-mode .comment-count {
    color: var(--cor-texto-secundario);
}
html.dark-mode .post-stats {
    border-bottom-color: var(--cor-borda);
}

html.dark-mode .action-btn:hover {
    background-color: var(--cor-fundo-hover);
}

html.dark-mode .action-btn.like-btn.active {
    color: var(--cor-texto-primario); 
}


/* --- PERFIL (Correções) --- */
html.dark-mode .profile-header-info h1 {
    color: var(--cor-texto-primario); 
}

html.dark-mode .profile-header-info p {
    color: var(--cor-texto-primario); 
}

html.dark-mode .profile-nav a {
    color: var(--cor-texto-secundario); 
}

html.dark-mode .profile-nav a.active {
    color: var(--cor-texto-primario); 
    border-bottom-color: var(--cor-texto-primario); 
}

html.dark-mode .page-section-header h1,
html.dark-mode .page-section-header p {
    color: var(--cor-texto-primario); 
}

html.dark-mode .profile-details-card h3 {
    color: var(--cor-texto-primario); 
    border-bottom-color: var(--cor-borda);
}

html.dark-mode .profile-details-card .info-item span {
    color: var(--cor-texto-primario); 
}

html.dark-mode .profile-details-card .info-item label,
html.dark-mode .profile-details-card .info-item i {
    color: var(--cor-texto-secundario); 
}

html.dark-mode .friend-card a {
    color: var(--cor-texto-primario); 
}
html.dark-mode .friend-card .friend-username {
    color: var(--cor-texto-secundario); 
}

html.dark-mode .status-online {
    border: 1px solid var(--cor-fundo-secundario); 
}

html.dark-mode .post-options-menu,
html.dark-mode .comment-options-menu {
    background-color: var(--cor-fundo-secundario);
    border: 1px solid var(--cor-borda);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3); 
}

html.dark-mode .post-options-menu a,
html.dark-mode .comment-options-menu a {
    color: var(--cor-texto-primario); 
}

html.dark-mode .post-options-menu a:hover,
html.dark-mode .comment-options-menu a:hover {
    background-color: var(--cor-fundo-hover); 
}


/* --- REGRAS DO TEXTAREA E MÍDIA (CORES IGUAIS) --- */

html.dark-mode .create-post-card textarea {
    background-color: var(--cor-fundo-hover);
    border-color: var(--cor-borda);
    color: var(--cor-texto-primario);
}
html.dark-mode .create-post-card textarea::placeholder {
    color: var(--cor-texto-secundario);
}

html.dark-mode .post-media-container {
    background-color: var(--cor-fundo-hover);
}

html.dark-mode .create-post-card .primary-btn-small {
    background-color: #e4e6eb; 
    color: #050505; 
}
html.dark-mode .create-post-card .primary-btn-small:hover {
    background-color: #d8dbdf; 
}


/* --- COMENTÁRIOS --- */
html.dark-mode .post-comments-section {
    border-top-color: var(--cor-borda);
}
html.dark-mode .comment-input {
    background-color: var(--cor-fundo-hover);
    border-color: var(--cor-borda);
    color: var(--cor-texto-primario);
}
html.dark-mode .comment-bubble {
    background-color: var(--cor-fundo-hover);
}
html.dark-mode .comment-author-name {
    color: var(--cor-texto-primario);
}
html.dark-mode .comment-text {
    color: var(--cor-texto-primario);
}
html.dark-mode .comment-actions,
html.dark-mode .comment-actions a {
    color: var(--cor-texto-secundario);
}

html.dark-mode .comment-like-btn.active {
    color: var(--cor-texto-primario);
}

html.dark-mode .comment-like-count {
    background-color: var(--cor-fundo-hover); 
    box-shadow: 0 1px 2px rgba(0,0,0,0.4); 
    border: 1px solid var(--cor-borda); 
    color: var(--cor-texto-primario); 
}

html.dark-mode .comment-submit-btn {
    color: var(--cor-texto-primario);
}


/* --- NOTIFICAÇÕES (Correções) --- */
html.dark-mode .notifications-panel {
    background-color: var(--cor-fundo-secundario); 
    border-color: var(--cor-borda);
}

html.dark-mode .notification-item {
    color: var(--cor-texto-primario); 
    border-bottom-color: var(--cor-borda);
}

html.dark-mode .notification-item:hover {
    background-color: var(--cor-fundo-hover);
}

html.dark-mode .notification-item.unread {
    background-color: #303846; 
}

html.dark-mode .notification-text .user-name,
html.dark-mode .notification-text p {
    color: var(--cor-texto-primario); 
}

html.dark-mode .notifications-footer {
    border-top-color: var(--cor-borda);
}

/* --- CONFIGURAÇÕES --- */
html.dark-mode .settings-card h2 {
    color: var(--cor-texto-primario);
    border-bottom-color: var(--cor-borda);
}
html.dark-mode .settings-card label {
    color: var(--cor-texto-primario);
}
html.dark-mode .settings-card input[type="text"],
html.dark-mode .settings-card input[type="email"],
html.dark-mode .settings-card input[type="date"],
html.dark-mode .settings-card input[type="password"],
html.dark-mode .settings-card select,
html.dark-mode .settings-card textarea {
    background-color: var(--cor-fundo-hover);
    border-color: var(--cor-borda);
    color: var(--cor-texto-primario);
}
html.dark-mode .form-group-description {
    color: var(--cor-texto-secundario);
}

html.dark-mode .settings-card .input-file-label {
    background-color: #e4e6eb; 
    color: #050505; 
}
html.dark-mode .settings-card .input-file-label:hover {
    background-color: #d8dbdf; 
}

html.dark-mode .settings-card .form-section-title {
    color: var(--cor-texto-primario);
}

/* --- [INÍCIO DA CORREÇÃO] --- */
/* Sobrescreve os botões azuis APENAS na página de configurações */
html.dark-mode .settings-card .primary-btn-small {
    background-color: #E4E6EB; /* Fundo claro */
    color: #050505; /* Texto escuro */
    border: 1px solid var(--cor-borda);
}
html.dark-mode .settings-card .primary-btn-small:hover {
    background-color: #d8dbdf; /* Hover claro */
}
/* --- [FIM DA CORREÇÃO] --- */


/* --- NOVO: ESTILOS PARA PÁGINAS PÚBLICAS (LOGIN/CADASTRO) --- */

html.dark-mode .container {
    background-color: var(--cor-fundo-secundario);
    box-shadow: none;
    border: 1px solid var(--cor-borda);
}

html.dark-mode .form-header h1,
html.dark-mode .form-header .icon-anchor {
    color: var(--cor-texto-primario);
}
html.dark-mode .form-header h2 {
    color: var(--cor-texto-secundario);
}

html.dark-mode input, 
html.dark-mode select {
    background-color: var(--cor-fundo-hover);
    border-color: var(--cor-borda);
    color: var(--cor-texto-primario);
}

html.dark-mode .input-container label {
    color: var(--cor-texto-secundario);
}

html.dark-mode .form-actions .link-secondary {
    color: var(--cor-texto-primario);
}

html.dark-mode .login-page-body .primary-btn,
html.dark-mode .register-page-body .primary-btn {
    background-color: #E4E6EB; 
    color: #050505; 
    border: 1px solid var(--cor-borda); 
}

html.dark-mode .login-page-body .primary-btn:hover,
html.dark-mode .register-page-body .primary-btn:hover {
    background-color: #d8dbdf; 
}


html.dark-mode .site-footer {
    background-color: var(--cor-fundo-secundario);
    border-top-color: var(--cor-borda);
}

html.dark-mode .footer-links a {
    color: var(--cor-texto-secundario);
}
html.dark-mode .footer-copyright {
    color: var(--cor-texto-secundario);
}

html.dark-mode .back-button {
    background-color: var(--cor-fundo-secundario);
    color: var(--cor-texto-primario);
    border-color: var(--cor-borda);
}
html.dark-mode .back-button:hover {
    background-color: var(--cor-fundo-hover);
}


/* --- NOVO: ESTILOS PARA O LIGHTBOX --- */

html.dark-mode .lightbox-overlay {
    background-color: rgba(0, 0, 0, 0.85); 
}

html.dark-mode .lightbox-modal {
    background-color: var(--cor-fundo-secundario); 
}

html.dark-mode .lightbox-details-header,
html.dark-mode .lightbox-details-footer {
    border-color: var(--cor-borda); 
}

html.dark-mode .lightbox-details-footer .post-stats {
    border-bottom-color: var(--cor-borda);
}

html.dark-mode .lightbox-close-btn {
    color: var(--cor-texto-secundario); 
}